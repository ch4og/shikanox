# SPDX-FileCopyrightText: 2025 Nikita Mitasov <me@ch4og.com>
# SPDX-License-Identifier: CC0-1.0

#+TITLE: Shikanox - Personal GNU/Linux [WIP]
#+OPTIONS: toc:nil

#+HTML: <a href="https://api.reuse.software/info/codeberg.org/ch4og/shikanox" rel="nofollow noopener"><img src="https://img.shields.io/reuse/compliance/codeberg.org%2Fch4og%2Fshikanox?logo=open-source-initiative&logoColor=white&label=REUSE&labelColor=24292e"></a>
#+HTML: <a href="https://codeberg.org/ch4og/shikanox" rel="nofollow noopener"><img src="https://img.shields.io/badge/source-Codeberg-5993C8?logo=codeberg&logoColor=white&labelColor=24292e"></a>
#+HTML: <a href="https://gnu.org/software/guile/" rel="nofollow noopener"><img src="https://codeberg.org/luis-felipe/guile-graphics/raw/branch/trunk/badges/gnu-guile-made.svg"></a>

#+HTML: <p align="center"><img src="./assets/screenshot.png" width="70%"/></p>

A complete personal config "distro" built on GNU Guix System, GNU Guix Home and Nix Home Manager.

*** *This repo includes packaged nonfree and proprietary software.*

* This repo defines:

- *[[./guix/shika][guix/shika]]* :: GNU Guix System and Home configurations
- *[[./guix/koshi][guix/koshi]]* :: GNU Guix Channel with packages and services
- *[[./nix/hm][nix/hm]]* :: Nix Home Manager configuration
- *[[./dotfiles][dotfiles]]* :: Dotfiles

* Add channel to your system

#+BEGIN_SRC scheme
(channel
 (name 'shikanox)
 (url "https://codeberg.org/ch4og/shikanox.git")
 (introduction
  (make-channel-introduction
   "fe3b5f72aa676c69f4d43507bdd18fb051906917"
   (openpgp-fingerprint
    "7C9E 7EBA 828C 58DF DACE  5BED 4DCC 7AB7 FC75 319B"))))
#+END_SRC

* Dotfiles

Personal dotfiles are organized using a layout compatible with [[https://www.gnu.org/software/stow/manual/stow.html#Introduction][GNU Stow]].

Each subdirectory here represents a *"package"* of configuration files,
automatically linked into =~= via the =home-dotfiles-service-type=.

** Usage

*** Guix Home

#+begin_src scheme
  (service home-dotfiles-service-type
  	 (home-dotfiles-configuration
  	  (directories '("./dotfiles"))
  	  (layout 'stow)
  	  (packages '("fish" "mangowc" "other-package-name"))))
#+end_src

*** GNU Stow (recommended on non-Guix)

#+begin_src sh
  cd dotfiles
  stow fish mangowc other-package-name -t ~
#+end_src

* Reconfigure script

This repository provides helper scripts =shika=, =koshi=, =hm=.

Instead of running long guix and nix invocations manually, you can for example do:

#+BEGIN_SRC sh
  shika system
  koshi format
  hm update
#+END_SRC

(Loaded to =$PATH= from =./bin= with direnv)

* Acknowledgments

Big thanks to people and projects that inspired me:

- [[https://github.com/Gylvaris/nix-config][Gylvaris/nix-config]] (Never would try declarative OSes without him!)
- [[https://github.com/s0me1newithhand7s/myNixConf][s0me1newithhand7s/myNixConf]]
- [[https://github.com/krypt0nn/dotfiles][krypt0nn/dotfiles]]
- [[https://github.com/TheMaxMur/NixOS-Configuration][TheMaxMur/NixOS-Configuration]]
- [[https://github.com/s0me1newithhand7s/reNixos][s0me1newithhand7s/reNixOS]]
- [[https://github.com/romek-codes/nix-config][romek-codes/nix-config]]
- [[https://github.com/Sk7Str1p3/dotFiles][Sk7Str1p3/dotFiles]]
- [[https://github.com/Frost-Phoenix/nixos-config][Frost-Phoenix/nixos-config]]
- [[https://codeberg.org/agx-r][@agx-r]]
- [[https://codeberg.org/daviwil][@daviwil]] & [[https://systemcrafters.net/][System Crafters]]
- [[https://github.com/sarg/dotfiles][sarg/dotfiles]]
- [[https://github.com/franzos/awesome-guix][franzos/awesome-guix]]
- [[https://github.com/hiecaq/guix-config][hiecaq/guix-config]]
- [[https://github.com/DreamMaoMao/mango-config][DreamMaoMao/mango-config]]
- [[https://sr.ht/~abcdw/rde/][~abcdw/rde]]
- [[https://codeberg.org/hako/Testament][hako/Testament]]
- [[https://github.com/podiki/dot.me][podiki/dot.me]]

All files that include code by others have a license note about it in their heading, original license is kept.
